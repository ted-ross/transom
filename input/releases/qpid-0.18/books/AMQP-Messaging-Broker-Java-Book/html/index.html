<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>AMQP Messaging Broker (Implemented in Java)</title><link rel="stylesheet" href="css/style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><link rel="start" href="index.html" title="AMQP Messaging Broker (Implemented in Java)"><link rel="next" href="pr01.html" title="Introduction"></head><body><div class="container" bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><DIV class="header"><DIV class="logo"><H1>Apache Qpidâ„¢</H1><H2>Open Source AMQP Messaging</H2></DIV></DIV><DIV class="menu_box"><DIV class="menu_box_top"></DIV><DIV class="menu_box_body"><H3>Apache Qpid</H3><UL><LI><A href="http://qpid.apache.org/index.html">Home</A></LI><LI><A href="http://qpid.apache.org/download.html">Download</A></LI><LI><A href="http://qpid.apache.org/getting_started.html">Getting Started</A></LI><LI><A href="http://www.apache.org/licenses/">License</A></LI><LI><A href="https://cwiki.apache.org/qpid/faq.html">FAQ</A></LI></UL></DIV><DIV class="menu_box_bottom"></DIV><DIV class="menu_box_top"></DIV><DIV class="menu_box_body"><H3>Documentation</H3><UL><LI><A href="http://qpid.apache.org/documentation.html#doc-release">Latest Release</A></LI><LI><A href="http://qpid.apache.org/documentation.html#doc-trunk">Trunk</A></LI><LI><A href="http://qpid.apache.org/documentation.html#doc-archives">Archive</A></LI></UL></DIV><DIV class="menu_box_bottom"></DIV><DIV class="menu_box_top"></DIV><DIV class="menu_box_body"><H3>Community</H3><UL><LI><A href="http://qpid.apache.org/getting_involved.html">Getting Involved</A></LI><LI><A href="http://qpid.apache.org/source_repository.html">Source Repository</A></LI><LI><A href="http://qpid.apache.org/mailing_lists.html">Mailing Lists</A></LI><LI><A href="https://cwiki.apache.org/qpid/">Wiki</A></LI><LI><A href="https://issues.apache.org/jira/browse/qpid">Issue Reporting</A></LI><LI><A href="http://qpid.apache.org/people.html">People</A></LI><LI><A href="http://qpid.apache.org/acknowledgements.html">Acknowledgements</A></LI></UL></DIV><DIV class="menu_box_bottom"></DIV><DIV class="menu_box_top"></DIV><DIV class="menu_box_body"><H3>Developers</H3><UL><LI><A href="https://cwiki.apache.org/qpid/building.html">Building Qpid</A></LI><LI><A href="https://cwiki.apache.org/qpid/developer-pages.html">Developer Pages</A></LI></UL></DIV><DIV class="menu_box_bottom"></DIV><DIV class="menu_box_top"></DIV><DIV class="menu_box_body"><H3>About AMQP</H3><UL><LI><A href="http://qpid.apache.org/amqp.html">What is AMQP?</A></LI></UL></DIV><DIV class="menu_box_bottom"></DIV><DIV class="menu_box_top"></DIV><DIV class="menu_box_body"><H3>About Apache</H3><UL><LI><A href="http://www.apache.org">Home</A></LI><LI><A href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</A></LI><LI><A href="http://www.apache.org/foundation/thanks.html">Thanks</A></LI><LI><A href="http://www.apache.org/security/">Security</A></LI></UL></DIV><DIV class="menu_box_bottom"></DIV></DIV><div class="main_text_area"><div class="main_text_area_top"></div><div class="main_text_area_body"><DIV class="breadcrumbs"><span class="breadcrumb-node">AMQP Messaging Broker (Implemented in Java)</span></DIV><div class="book" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="id2426366"></a>AMQP Messaging Broker (Implemented in Java)</h1></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="preface"><a href="pr01.html">Introduction</a></span></dt><dt><span class="chapter"><a href="Java-General-User-Guides.html">1. General User Guides</a></span></dt><dd><dl><dt><span class="section"><a href="Java-General-User-Guides.html#id2425296">1.1. 
      Java Broker Feature Guide
    </a></span></dt><dd><dl><dt><span class="section"><a href="Java-General-User-Guides.html#JavaBrokerFeatureGuide-TheQpidpureJavabrokercurrentlysupportsthefollowingfeatures-3A">1.1.1. 
            The Qpid pure Java broker currently supports the following
            features:
          </a></span></dt></dl></dd><dt><span class="section"><a href="Qpid-Java-FAQ.html">1.2. 
      Qpid Java FAQ
    </a></span></dt><dd><dl><dt><span class="section"><a href="Qpid-Java-FAQ.html#QpidJavaFAQ-Purpose">1.2.1. Purpose</a></span></dt></dl></dd><dt><span class="section"><a href="Java-Environment-Variables.html">1.3. 
      Java Environment Variables
    </a></span></dt><dd><dl><dt><span class="section"><a href="Java-Environment-Variables.html#JavaEnvironmentVariables-SettingQpidEnvironmentVariables">1.3.1. 
            Setting
            Qpid Environment Variables
          </a></span></dt></dl></dd><dt><span class="section"><a href="Qpid-Troubleshooting-Guide.html">1.4. 
      Qpid Troubleshooting Guide
    </a></span></dt><dd><dl><dt><span class="section"><a href="Qpid-Troubleshooting-Guide.html#QpidTroubleshootingGuide-I-27mgettingajava.lang.UnsupportedClassVersionErrorwhenItrytostartthebroker.Whatdoesthismean-3F">1.4.1. 
            I'm getting a java.lang.UnsupportedClassVersionError when I
            try to start the broker. What does this mean ?
          </a></span></dt><dt><span class="section"><a href="Qpid-Troubleshooting-Guide.html#QpidTroubleshootingGuide-I-27mhavingaproblembindingtotherequiredhost-3Aportatbrokerstartup-3F">1.4.2. 
            I'm having a problem binding to the required host:port at
            broker startup ?
          </a></span></dt><dt><span class="section"><a href="Qpid-Troubleshooting-Guide.html#QpidTroubleshootingGuide-I-27mhavingproblemswithmyclasspath.HowcanIensurethatmyclasspathisok-3F">1.4.3. 
            I'm having problems with my classpath. How can I ensure that
            my classpath is ok ?
          </a></span></dt><dt><span class="section"><a href="Qpid-Troubleshooting-Guide.html#QpidTroubleshootingGuide-Ican-27tgetthebrokertostart.HowcanIdiagnosetheproblem-3F">1.4.4. 
            I can't get the broker to start. How can I diagnose the
            problem ?
          </a></span></dt><dt><span class="section"><a href="Qpid-Troubleshooting-Guide.html#QpidTroubleshootingGuide-WhenItrytosendmessagestoaqueueI-27mgettingaerrorasthequeuedoesnotexist.WhatcanIdo-3F">1.4.5. 
            When I try to send messages to a queue I'm getting a error as
            the queue does not exist. What can I do ?
          </a></span></dt></dl></dd><dt><span class="section"><a href="Java-Broker-Configuration-Guide.html">1.5. Broker Configuration Guide </a></span></dt><dd><dl><dt><span class="section"><a href="Java-Broker-Configuration-Guide.html#Qpid-Producer-Flow-Control">1.5.1. Producer Flow Control</a></span></dt><dt><span class="section"><a href="Java-Broker-Configuration-Guide.html#id2494886">1.5.2. Topic Configuration on Java Broker</a></span></dt></dl></dd><dt><span class="section"><a href="High-Availability.html">1.6. High Availability</a></span></dt><dd><dl><dt><span class="section"><a href="High-Availability.html#HAGeneralIntroduction">1.6.1. General Introduction</a></span></dt><dt><span class="section"><a href="High-Availability.html#HAOfferingsOfJavaBroker">1.6.2. HA offerings of the Java Broker</a></span></dt><dt><span class="section"><a href="High-Availability.html#HATwoNodeCluster">1.6.3. Two Node Cluster</a></span></dt><dt><span class="section"><a href="High-Availability.html#HAMultiNodeCluster">1.6.4. Multi Node Cluster</a></span></dt><dt><span class="section"><a href="High-Availability.html#HAConfiguration">1.6.5. Configuring a Virtual Host to be a node</a></span></dt><dt><span class="section"><a href="High-Availability.html#HADurabilityGuarantee">1.6.6. Durability Guarantees</a></span></dt><dt><span class="section"><a href="High-Availability.html#HAClientFailover">1.6.7. Client failover configuration</a></span></dt><dt><span class="section"><a href="High-Availability.html#HAJMXAPI">1.6.8. Qpid JMX API for HA</a></span></dt><dt><span class="section"><a href="High-Availability.html#BDB-HA-Monitoring-cluster">1.6.9. Monitoring cluster</a></span></dt><dt><span class="section"><a href="High-Availability.html#HADiskSpace">1.6.10. Disk space requirements</a></span></dt><dt><span class="section"><a href="High-Availability.html#BDB-HA-Network-Requirements">1.6.11. Network Requirements</a></span></dt><dt><span class="section"><a href="High-Availability.html#BDB-HA-Security">1.6.12. Security</a></span></dt><dt><span class="section"><a href="High-Availability.html#BDB-HA-Backup">1.6.13. Backups</a></span></dt><dt><span class="section"><a href="High-Availability.html#HAMigrationFromNonHA">1.6.14. Migration of a non-HA store to HA</a></span></dt><dt><span class="section"><a href="High-Availability.html#HADisasterRecovery">1.6.15. Disaster Recovery</a></span></dt><dt><span class="section"><a href="High-Availability.html#HAPerformance">1.6.16. Performance</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="Qpid-Java-Broker-HowTos.html">2. How Tos</a></span></dt><dd><dl><dt><span class="section"><a href="Qpid-Java-Broker-HowTos.html#id2493330">2.1. 
      Add New Users
    </a></span></dt><dd><dl><dt><span class="section"><a href="Qpid-Java-Broker-HowTos.html#AddNewUsers-AvailablePasswordfileformats">2.1.1. 
            Available
            Password file formats
          </a></span></dt><dt><span class="section"><a href="Qpid-Java-Broker-HowTos.html#AddNewUsers-Dynamicchangestopasswordfiles.">2.1.2. 
            Dynamic
            changes to password files.
          </a></span></dt><dt><span class="section"><a href="Qpid-Java-Broker-HowTos.html#AddNewUsers-HowpasswordfilesandPrincipalDatabasesrelatetoauthenticationmechanisms">2.1.3. 
            How password files and PrincipalDatabases relate to
            authentication mechanisms
          </a></span></dt></dl></dd><dt><span class="section"><a href="Configuring-ACLS.html">2.2. 
      Configuring ACLs
  </a></span></dt><dd><dl><dt><span class="section"><a href="Configuring-ACLS.html#ConfigureACLs-EnablingACL">2.2.1. 
       Enabling ACLs
    </a></span></dt><dt><span class="section"><a href="Configuring-ACLS.html#ConfigureACLs-WriteACL">2.2.2. 
       Writing .acl files
    </a></span></dt><dt><span class="section"><a href="Configuring-ACLS.html#ConfigureACLs-Syntax">2.2.3. 
       Syntax
    </a></span></dt><dt><span class="section"><a href="Configuring-ACLS.html#ConfigureACLs-WorkedExamples">2.2.4. 
      Worked Examples
    </a></span></dt></dl></dd><dt><span class="section"><a href="Qpid-Java-SSL.html">2.3. 
      Configure Java Qpid to use a SSL connection.
    </a></span></dt><dd><dl><dt><span class="section"><a href="Qpid-Java-SSL.html#ConfigureJavaQpidtouseaSSLconnection.-UsingSSLconnectionwithQpidJava.">2.3.1. 
            Using SSL connection with Qpid Java.
          </a></span></dt><dt><span class="section"><a href="Qpid-Java-SSL.html#ConfigureJavaQpidtouseaSSLconnection.-Setup">2.3.2. 
            Setup
          </a></span></dt><dt><span class="section"><a href="Qpid-Java-SSL.html#ConfigureJavaQpidtouseaSSLconnection.-Performingtheconnection.">2.3.3. 
            Performing
            the connection.
          </a></span></dt></dl></dd><dt><span class="section"><a href="Qpid-Java-Log4j.html">2.4. 
      Configure Log4j CompositeRolling Appender
    </a></span></dt><dd><dl><dt><span class="section"><a href="Qpid-Java-Log4j.html#ConfigureLog4jCompositeRollingAppender-HowtoconfiguretheCompositeRollinglog4jAppender">2.4.1. 
            How to configure the CompositeRolling log4j Appender
          </a></span></dt></dl></dd><dt><span class="section"><a href="Qpid-Java-Broker-Config-File.html">2.5. 
      Configure the Broker via config.xml
    </a></span></dt><dd><dl><dt><span class="section"><a href="Qpid-Java-Broker-Config-File.html#ConfiguretheBrokerviaconfig.xml-Brokerconfig.xmlOverview">2.5.1. 
            Broker config.xml Overview
          </a></span></dt><dt><span class="section"><a href="Qpid-Java-Broker-Config-File.html#ConfiguretheBrokerviaconfig.xml-QpidVersion">2.5.2. 
            Qpid
            Version
          </a></span></dt></dl></dd><dt><span class="section"><a href="Qpid-Java-Broker-Virtualhosts-Config.html">2.6. 
      Configure the Virtual Hosts via virtualhosts.xml
    </a></span></dt><dd><dl><dt><span class="section"><a href="Qpid-Java-Broker-Virtualhosts-Config.html#ConfiguretheVirtualHostsviavirtualhosts.xml-virtualhosts.xmlOverview">2.6.1. 
            virtualhosts.xml Overview
          </a></span></dt></dl></dd><dt><span class="section"><a href="Java-Broker-Debug-Logging.html">2.7. 
      Debug using log4j
    </a></span></dt><dd><dl><dt><span class="section"><a href="Java-Broker-Debug-Logging.html#Debugusinglog4j-Debuggingwithlog4jconfigurations">2.7.1. 
            Debugging
            with log4j configurations
          </a></span></dt></dl></dd><dt><span class="section"><a href="How-to-Tune-M3-Java-Broker-Performance.html">2.8. 
      How to Tune M3 Java Broker Performance
    </a></span></dt><dd><dl><dt><span class="section"><a href="How-to-Tune-M3-Java-Broker-Performance.html#HowtoTuneM3JavaBrokerPerformance-ProblemStatement">2.8.1. 
            Problem
            Statement
          </a></span></dt><dt><span class="section"><a href="How-to-Tune-M3-Java-Broker-Performance.html#HowtoTuneM3JavaBrokerPerformance-SuccessfulTuningOptions">2.8.2. 
            Successful
            Tuning Options
          </a></span></dt><dt><span class="section"><a href="How-to-Tune-M3-Java-Broker-Performance.html#HowtoTuneM3JavaBrokerPerformance-NextSteps">2.8.3. 
            Next
            Steps
          </a></span></dt></dl></dd><dt><span class="section"><a href="Qpid-Java-Build-HowTo.html">2.9. 
      Qpid Java Build How To
    </a></span></dt><dd><dl><dt><span class="section"><a href="Qpid-Java-Build-HowTo.html#QpidJavaBuildHowTo-BuildInstructionsGeneral">2.9.1. 
            Build
            Instructions - General
          </a></span></dt><dt><span class="section"><a href="Qpid-Java-Build-HowTo.html#QpidJavaBuildHowTo-BuildInstructionsTrunk">2.9.2. 
            Build
            Instructions - Trunk
          </a></span></dt></dl></dd><dt><span class="section"><a href="Priority-Queues.html">2.10. 
      Use Priority Queues
    </a></span></dt><dd><dl><dt><span class="section"><a href="Priority-Queues.html#UsePriorityQueues-GeneralInformation">2.10.1. 
            General
            Information
          </a></span></dt><dt><span class="section"><a href="Priority-Queues.html#UsePriorityQueues-DefiningPriorityQueues">2.10.2. 
            Defining
            Priority Queues
          </a></span></dt><dt><span class="section"><a href="Priority-Queues.html#UsePriorityQueues-Clientconfiguration-2Fmessagingmodelforpriorityqueues">2.10.3. 
            Client configuration/messaging model for priority queues
          </a></span></dt></dl></dd><dt><span class="section"><a href="Java-Broker-Slow-Consumer-Disconnect.html">2.11. Slow Consumer Disconnect - User Guide</a></span></dt><dd><dl><dt><span class="section"><a href="Java-Broker-Slow-Consumer-Disconnect.html#id2526439">2.11.1. Introduction</a></span></dt><dt><span class="section"><a href="Java-Broker-Slow-Consumer-Disconnect.html#id2526474">2.11.2. What can it do?</a></span></dt><dt><span class="section"><a href="Java-Broker-Slow-Consumer-Disconnect.html#id2526500">2.11.3. Frequency of SCD Checking</a></span></dt><dt><span class="section"><a href="Java-Broker-Slow-Consumer-Disconnect.html#id2526581">2.11.4. Client Exception<span class="bold"><strong>s</strong></span></a></span></dt><dt><span class="section"><a href="Java-Broker-Slow-Consumer-Disconnect.html#id2526640">2.11.5. Disconnection Thresholds</a></span></dt><dt><span class="section"><a href="Java-Broker-Slow-Consumer-Disconnect.html#id2526871">2.11.6. Important Points To Note</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="Qpid-JMX-Management-Console.html">3. 
    Qpid JMX Management Console
  </a></span></dt><dd><dl><dt><span class="section"><a href="Qpid-JMX-Management-Console.html#QpidJMXManagementConsole-QpidJMXManagementConsole">3.1.  Qpid JMX Management Console </a></span></dt><dd><dl><dt><span class="section"><a href="Qpid-JMX-Management-Console.html#QpidJMXManagementConsole-Overview">3.1.1. 
	Overview
      </a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="QpidJavaBroker-ManagementTools.html">4. Management Tools</a></span></dt><dd><dl><dt><span class="section"><a href="QpidJavaBroker-ManagementTools.html#Qpid-Java-Broker-Management-CLI">4.1. 
      Qpid Java Broker Management CLI
    </a></span></dt><dd><dl><dt><span class="section"><a href="QpidJavaBroker-ManagementTools.html#QpidJavaBrokerManagementCLI-HowtobuildApacheQpidCLI">4.1.1. 
            How to
            build Apache Qpid CLI
          </a></span></dt></dl></dd></dl></dd></dl></div><div class="list-of-figures"><p><b>List of Figures</b></p><dl><dt>1.1. <a href="High-Availability.html#id2496157">Key for figures</a></dt><dt>1.2. <a href="High-Availability.html#id2496205">Normal operation of a two-node cluster</a></dt><dt>1.3. <a href="High-Availability.html#id2496333">Failure of master and recovery sequence</a></dt><dt>1.4. <a href="High-Availability.html#id2498971">Failure of replica and subsequent recovery sequence</a></dt><dt>1.5. <a href="High-Availability.html#id2499095">Partition of the network separating master and replica</a></dt><dt>1.6. <a href="High-Availability.html#id2499228">Split Brain</a></dt><dt>1.7. <a href="High-Availability.html#id2500386">BDBHAMessageStore view from jconsole.</a></dt><dt>1.8. <a href="High-Availability.html#id2501675">Test results</a></dt></dl></div><div class="list-of-tables"><p><b>List of Tables</b></p><dl><dt>1.1. <a href="Qpid-Java-FAQ.html#id2495272">
            Command Line Options
          </a></dt><dt>1.2. <a href="High-Availability.html#id2499799">Effect of different durability guarantees</a></dt><dt>1.3. <a href="High-Availability.html#id2500047">Mbean <code class="classname">BDBHAMessageStore</code> attributes</a></dt><dt>1.4. <a href="High-Availability.html#id2500265">Mbean <code class="classname">BDBHAMessageStore</code> operations</a></dt><dt>1.5. <a href="High-Availability.html#id2501160">Number of producers/consumers in performance tests</a></dt><dt>1.6. <a href="High-Availability.html#id2501412">Performance Comparison</a></dt><dt>2.1. <a href="Qpid-Java-Broker-HowTos.html#id2494689">File Format and Principal Database</a></dt><dt>2.2. <a href="Configuring-ACLS.html#tabl-ConfigureACLs-Syntax_permissions">ACL Rules: permission</a></dt><dt>2.3. <a href="Configuring-ACLS.html#tabl-ConfigureACLs-Syntax_actions">ACL Rules:action</a></dt><dt>2.4. <a href="Configuring-ACLS.html#tabl-ConfigureACLs-Syntax_objects">ACL Rules:object</a></dt><dt>2.5. <a href="Configuring-ACLS.html#tabl-ConfigureACLs-Syntax_properties">ACL Rules:property</a></dt><dt>2.6. <a href="Configuring-ACLS.html#tabl-ConfigureACLs-Syntax_javacomponents">ACL rules:components (Java Broker only)</a></dt><dt>2.7. <a href="How-to-Tune-M3-Java-Broker-Performance.html#id2496802"></a></dt><dt>2.8. <a href="Qpid-Java-Build-HowTo.html#id2498632"></a></dt><dt>2.9. <a href="Qpid-Java-Build-HowTo.html#id2498702"></a></dt><dt>2.10. <a href="Qpid-Java-Build-HowTo.html#id2498757"></a></dt></dl></div><div class="list-of-examples"><p><b>List of Examples</b></p><dl><dt>1.1. <a href="High-Availability.html#id2499997">Example of connection URL for the HA Cluster</a></dt><dt>1.2. <a href="High-Availability.html#id2500399">Example of java code to get the node state value</a></dt><dt>1.3. <a href="High-Availability.html#id2500509">Using <code class="classname">DbPing</code> utility for monitoring HA nodes.</a></dt><dt>1.4. <a href="High-Availability.html#id2500814">Performing store backup by using <code class="classname">BDBBackup</code> class directly</a></dt><dt>1.5. <a href="High-Availability.html#id2500852">Performing store backup by using <code class="classname">backup.sh</code> bash script</a></dt><dt>1.6. <a href="High-Availability.html#id2500908">Enabling replication</a></dt><dt>1.7. <a href="High-Availability.html#id2500950">Example of XML configuration for HA message store</a></dt><dt>1.8. <a href="High-Availability.html#id2501069">Reseting of replication group with <code class="classname">DbResetRepGroup</code></a></dt></dl></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left">Â </td><td width="20%" align="center">Â </td><td width="40%" align="right">Â <a accesskey="n" href="pr01.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Â </td><td width="20%" align="center">Â </td><td width="40%" align="right" valign="top">Â Introduction</td></tr></table></div><div class="main_text_area_bottom"></div></div></div></body></html>
