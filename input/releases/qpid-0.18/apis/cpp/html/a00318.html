<!--
 
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at
 
   http://www.apache.org/licenses/LICENSE-2.0
 
 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 
-->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>qpid::client::SubscriptionManager Class Reference</title>
    <link href="doxygen.css" rel="stylesheet" type="text/css">
    <link href="tabs.css" rel="stylesheet" type="text/css">
  </head>
  <body bgcolor="#FFFFFF">
  <table border="0" width="90%" align="center">
    <tr>
      <td align="left">
	<a title="Apache Qpid Project Page" href="http://qpid.apache.org">Apache Qpid - AMQP Messaging for Java JMS, C++, Python, Ruby, and .NET</a>
      </td>

      <td align="right">	
	<a title="Apache Qpid Documentation" href="http://qpid.apache.org/documentation.html">Apache Qpid Documentation</a>
      </td>
    </tr>
  </table>

<!-- Generated by Doxygen 1.7.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="a00510.html">qpid</a>      </li>
      <li class="navelem"><a class="el" href="a00512.html">client</a>      </li>
      <li class="navelem"><a class="el" href="a00318.html">SubscriptionManager</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">qpid::client::SubscriptionManager Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="qpid::client::SubscriptionManager" --><!-- doxytag: inherits="qpid::sys::Runnable,Handle&lt; SubscriptionManagerImpl &gt;" -->
<p>A class to help create and manage subscriptions.  
 <a href="a00318.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="a00436_source.html">qpid/client/SubscriptionManager.h</a>&gt;</code></p>

<p><a href="a00623.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef boost::function0&lt; void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00263.html#ae6dd30caad64962b36e826fb505cc626">Functor</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Type to represent a runnable as a Functor.  <a href="#ae6dd30caad64962b36e826fb505cc626"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a78dd4e6d2640ed606509526b3a5e6bb6">SubscriptionManager</a> (const <a class="el" href="a00512.html#aa15500ce0ba4cea17f4226bebe584a67">Session</a> &amp;session)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="a00318.html" title="A class to help create and manage subscriptions.">SubscriptionManager</a> associated with a session.  <a href="#a78dd4e6d2640ed606509526b3a5e6bb6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a5bffe0d743799364742b2e4368aac773">SubscriptionManager</a> (const <a class="el" href="a00318.html">SubscriptionManager</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a0f4f1e9e1d4ac81cf2e648558714fd91">~SubscriptionManager</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00318.html">SubscriptionManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a546263fd742abbf0a0e8f644e7128f4f">operator=</a> (const <a class="el" href="a00318.html">SubscriptionManager</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00316.html">Subscription</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#ac41a60dbeb349ffce22e813dffed5d69">subscribe</a> (<a class="el" href="a00191.html">MessageListener</a> &amp;listener, const <a class="el" href="a00311.html">std::string</a> &amp;queue, const <a class="el" href="a00319.html">SubscriptionSettings</a> &amp;settings, const <a class="el" href="a00311.html">std::string</a> &amp;name=<a class="el" href="a00311.html">std::string</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe a MessagesListener to receive messages from queue.  <a href="#ac41a60dbeb349ffce22e813dffed5d69"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00316.html">Subscription</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#aad83778a5c45da818a912a0559012b03">subscribe</a> (<a class="el" href="a00176.html">LocalQueue</a> &amp;localQueue, const <a class="el" href="a00311.html">std::string</a> &amp;queue, const <a class="el" href="a00319.html">SubscriptionSettings</a> &amp;settings, const <a class="el" href="a00311.html">std::string</a> &amp;name=<a class="el" href="a00311.html">std::string</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe a <a class="el" href="a00176.html" title="A local queue to collect messages retrieved from a remote broker queue.">LocalQueue</a> to receive messages from queue.  <a href="#aad83778a5c45da818a912a0559012b03"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00316.html">Subscription</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a0e45dca9a771599bb8c7bb9c2a333f95">subscribe</a> (<a class="el" href="a00191.html">MessageListener</a> &amp;listener, const <a class="el" href="a00311.html">std::string</a> &amp;queue, const <a class="el" href="a00311.html">std::string</a> &amp;name=<a class="el" href="a00311.html">std::string</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe a MessagesListener to receive messages from queue.  <a href="#a0e45dca9a771599bb8c7bb9c2a333f95"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00316.html">Subscription</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a43294983754db870de655edb09abb825">subscribe</a> (<a class="el" href="a00176.html">LocalQueue</a> &amp;localQueue, const <a class="el" href="a00311.html">std::string</a> &amp;queue, const <a class="el" href="a00311.html">std::string</a> &amp;name=<a class="el" href="a00311.html">std::string</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe a <a class="el" href="a00176.html" title="A local queue to collect messages retrieved from a remote broker queue.">LocalQueue</a> to receive messages from queue.  <a href="#a43294983754db870de655edb09abb825"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#ad8fe58735bd338d31104098cc599e017">get</a> (<a class="el" href="a00188.html">Message</a> &amp;result, const <a class="el" href="a00311.html">std::string</a> &amp;queue, <a class="el" href="a00099.html">sys::Duration</a> timeout=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a single message from a queue.  <a href="#ad8fe58735bd338d31104098cc599e017"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00188.html">Message</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a8c8d38404b4d20e4d5334675ee0f4189">get</a> (const <a class="el" href="a00311.html">std::string</a> &amp;queue, <a class="el" href="a00099.html">sys::Duration</a> timeout=<a class="el" href="a00518.html#a3aa132e281f66ba27d5fd25d71043bc0">sys::TIME_INFINITE</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a single message from a queue.  <a href="#a8c8d38404b4d20e4d5334675ee0f4189"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00316.html">Subscription</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#af866bde034050419b5a878d66b517b6e">getSubscription</a> (const <a class="el" href="a00311.html">std::string</a> &amp;name) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a subscription by name.  <a href="#af866bde034050419b5a878d66b517b6e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a19456563d46238188411e934aa403f51">cancel</a> (const <a class="el" href="a00311.html">std::string</a> &amp;name)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel a subscription.  <a href="#a19456563d46238188411e934aa403f51"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a58bd72dee8a3386f2ac29d46b65381b9">run</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deliver messages in the current thread until <a class="el" href="a00318.html#a1be6e1a70d3ce23d069d320eabd772c5" title="Stop delivery.">stop()</a> is called.  <a href="#a58bd72dee8a3386f2ac29d46b65381b9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a4ca1c748acd9a90d81bd16b460b044ff">start</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a new thread to deliver messages.  <a href="#a4ca1c748acd9a90d81bd16b460b044ff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a88da27bc4cfb4ecb538437b261da3471">wait</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for the thread started by a call to <a class="el" href="a00318.html#a4ca1c748acd9a90d81bd16b460b044ff" title="Start a new thread to deliver messages.">start()</a> to complete.  <a href="#a88da27bc4cfb4ecb538437b261da3471"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a6917791ac9c6dd618e895ee654c8ad9d">setAutoStop</a> (bool set=true)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">If set true, <a class="el" href="a00318.html#a58bd72dee8a3386f2ac29d46b65381b9" title="Deliver messages in the current thread until stop() is called.">run()</a> will stop when all subscriptions are cancelled.  <a href="#a6917791ac9c6dd618e895ee654c8ad9d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a1be6e1a70d3ce23d069d320eabd772c5">stop</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop delivery.  <a href="#a1be6e1a70d3ce23d069d320eabd772c5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a7dbc0d2242f7dee83693f7ef383cdfe2">setFlowControl</a> (const <a class="el" href="a00311.html">std::string</a> &amp;name, const <a class="el" href="a00124.html">FlowControl</a> &amp;flow)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the flow control for a subscription.  <a href="#a7dbc0d2242f7dee83693f7ef383cdfe2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a9a7a30637ea8808ea4dbd02123957dfc">setFlowControl</a> (const <a class="el" href="a00311.html">std::string</a> &amp;name, <a class="el" href="a00492.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> messages, <a class="el" href="a00492.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> bytes, bool window=true)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the flow control for a subscription.  <a href="#a9a7a30637ea8808ea4dbd02123957dfc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a003f532256bc6d06c29825db1831a60d">setDefaultSettings</a> (const <a class="el" href="a00319.html">SubscriptionSettings</a> &amp;s)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the default settings for <a class="el" href="a00318.html#ac41a60dbeb349ffce22e813dffed5d69" title="Subscribe a MessagesListener to receive messages from queue.">subscribe()</a> calls that don't include a <a class="el" href="a00319.html" title="Settings for a subscription.">SubscriptionSettings</a> parameter.  <a href="#a003f532256bc6d06c29825db1831a60d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="a00319.html">SubscriptionSettings</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#af84f04419a9bcc2d7bdb2b12a49cfaff">getDefaultSettings</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the default settings for <a class="el" href="a00318.html#ac41a60dbeb349ffce22e813dffed5d69" title="Subscribe a MessagesListener to receive messages from queue.">subscribe()</a> calls that don't include a <a class="el" href="a00319.html" title="Settings for a subscription.">SubscriptionSettings</a> parameter.  <a href="#af84f04419a9bcc2d7bdb2b12a49cfaff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00319.html">SubscriptionSettings</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a9ed3fedf882bab741e804f1a87ae3ecf">getDefaultSettings</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the default settings for <a class="el" href="a00318.html#ac41a60dbeb349ffce22e813dffed5d69" title="Subscribe a MessagesListener to receive messages from queue.">subscribe()</a> calls that don't include a <a class="el" href="a00319.html" title="Settings for a subscription.">SubscriptionSettings</a> parameter.  <a href="#a9ed3fedf882bab741e804f1a87ae3ecf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a50948592cebb3e66eac303092ab2cd9f">setFlowControl</a> (<a class="el" href="a00492.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> messages, <a class="el" href="a00492.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> bytes, bool window=true)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the default flow control settings for <a class="el" href="a00318.html#ac41a60dbeb349ffce22e813dffed5d69" title="Subscribe a MessagesListener to receive messages from queue.">subscribe()</a> calls that don't include a <a class="el" href="a00319.html" title="Settings for a subscription.">SubscriptionSettings</a> parameter.  <a href="#a50948592cebb3e66eac303092ab2cd9f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a5e760078a23a5617bdcdbec8d91be128">setAcceptMode</a> (AcceptMode mode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the default accept-mode for <a class="el" href="a00318.html#ac41a60dbeb349ffce22e813dffed5d69" title="Subscribe a MessagesListener to receive messages from queue.">subscribe()</a> calls that don't include a <a class="el" href="a00319.html" title="Settings for a subscription.">SubscriptionSettings</a> parameter.  <a href="#a5e760078a23a5617bdcdbec8d91be128"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a7aafea3fcc8043a1fe663f1ab74c9912">setAcquireMode</a> (AcquireMode mode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the default acquire-mode <a class="el" href="a00318.html#ac41a60dbeb349ffce22e813dffed5d69" title="Subscribe a MessagesListener to receive messages from queue.">subscribe()</a>s that don't specify <a class="el" href="a00319.html" title="Settings for a subscription.">SubscriptionSettings</a>.  <a href="#a7aafea3fcc8043a1fe663f1ab74c9912"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a2ba66e4bc870e20846a1c1060a64440f">registerFailoverHandler</a> (boost::function&lt; void()&gt; fh)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00512.html#aa15500ce0ba4cea17f4226bebe584a67">Session</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a36139f6dacf4d4f06ecab3478a89ded4">getSession</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a3774ac1bd472612208f4412dfa62bee4">SubscriptionManager</a> (SubscriptionManagerImpl *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00263.html#ae6dd30caad64962b36e826fb505cc626">Functor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00263.html#ac0af11e62e346d8295ddb9ee40620eb0">functor</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a functor object that will call this-&gt;<a class="el" href="a00263.html#a8c8296f61a69c142ad7afecca2578ea1" title="Derived classes override run().">run()</a>.  <a href="#ac0af11e62e346d8295ddb9ee40620eb0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QPID_CLIENT_INLINE_EXTERN bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a57379e651d725b0f73edcb714e9efbc7">isValid</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QPID_CLIENT_INLINE_EXTERN bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#ae6f5dd2c23bdf3016f4afcd32057b9c5">isNull</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QPID_CLIENT_INLINE_EXTERN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a00461424a31faee8e158a6502a014c3d">operator bool</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Conversion to bool supports idiom if (handle) { handle-&gt;...  <a href="#a00461424a31faee8e158a6502a014c3d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QPID_CLIENT_INLINE_EXTERN bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a6e69e13fa5ed709abebdbf6868b5eff4">operator!</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Operator ! supports idiom if (!handle) { do_if_handle_is_null(); }.  <a href="#a6e69e13fa5ed709abebdbf6868b5eff4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#a5092920190f6ad01c851996395cf33b5">swap</a> (<a class="el" href="a00129.html">Handle</a>&lt; T &gt; &amp;h)</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="a00492.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00318.html#a46cf43909ca6249e181e89d301f264a1">UNLIMITED</a> = 0xFFFFFFFF</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Impl *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00129.html#adf6d72d2a888cabcd0b60178419aad59">impl</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A class to help create and manage subscriptions. </p>
<p>Set up your subscriptions, then call <a class="el" href="a00318.html#a58bd72dee8a3386f2ac29d46b65381b9" title="Deliver messages in the current thread until stop() is called.">run()</a> to have messages delivered.</p>
<h2>Subscribing and canceling subscriptions</h2>
<ul>
<li>
<p class="startli"></p>
<p class="endli"><a class="el" href="a00318.html#ac41a60dbeb349ffce22e813dffed5d69" title="Subscribe a MessagesListener to receive messages from queue.">subscribe()</a> </p>
<pre> <a class="el" href="a00318.html" title="A class to help create and manage subscriptions.">SubscriptionManager</a> subscriptions(session);
 Listener listener(subscriptions);
 subscriptions.subscribe(listener, myQueue);</pre> <pre> <a class="el" href="a00318.html" title="A class to help create and manage subscriptions.">SubscriptionManager</a> subscriptions(session);
 <a class="el" href="a00176.html" title="A local queue to collect messages retrieved from a remote broker queue.">LocalQueue</a> local_queue;
 subscriptions.subscribe(local_queue, string("message_queue"));</pre> </li>
<li>
<p class="startli"></p>
<p class="endli"><a class="el" href="a00318.html#a19456563d46238188411e934aa403f51" title="Cancel a subscription.">cancel()</a> </p>
<pre>subscriptions.cancel();</pre> </li>
</ul>
<h2>Waiting for messages (and returning)</h2>
<ul>
<li>
<p class="startli"></p>
<p class="endli"><a class="el" href="a00318.html#a58bd72dee8a3386f2ac29d46b65381b9" title="Deliver messages in the current thread until stop() is called.">run()</a> </p>
<pre> // Give up control to receive messages
 subscriptions.run();</pre> </li>
<li>
<p class="startli"></p>
<p class="endli"><a class="el" href="a00318.html#a1be6e1a70d3ce23d069d320eabd772c5" title="Stop delivery.">stop()</a> </p>
<pre>.// Use this code in a listener to return from <a class="el" href="a00318.html#a58bd72dee8a3386f2ac29d46b65381b9" title="Deliver messages in the current thread until stop() is called.">run()</a>
 subscriptions.stop();</pre> </li>
<li>
<p class="startli"></p>
<p class="endli"><a class="el" href="a00318.html#a6917791ac9c6dd618e895ee654c8ad9d" title="If set true, run() will stop when all subscriptions are cancelled.">setAutoStop()</a> </p>
<pre>.// Return from subscriptions.run() when last subscription is cancelled
.subscriptions.setAutoStop(true);
.subscriptons.run();
 </pre> </li>
<li>
<p class="startli"></p>
<p>Ending a subscription in a listener </p>
<pre>
 void Listener::received(<a class="el" href="a00188.html" title="A message sent to or received from the broker.">Message</a>&amp; message) {</pre><pre>  if (message.getData() == "That's all, folks!") {
       subscriptions.cancel(message.getDestination());
   }
 }
 </pre>  </li>
</ul>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="ae6dd30caad64962b36e826fb505cc626"></a><!-- doxytag: member="qpid::client::SubscriptionManager::Functor" ref="ae6dd30caad64962b36e826fb505cc626" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef boost::function0&lt;void&gt; <a class="el" href="a00263.html#ae6dd30caad64962b36e826fb505cc626">qpid::sys::Runnable::Functor</a><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Type to represent a runnable as a Functor. </p>

<p>Definition at line <a class="el" href="a00501_source.html#l00037">37</a> of file <a class="el" href="a00501_source.html">Runnable.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a78dd4e6d2640ed606509526b3a5e6bb6"></a><!-- doxytag: member="qpid::client::SubscriptionManager::SubscriptionManager" ref="a78dd4e6d2640ed606509526b3a5e6bb6" args="(const Session &amp;session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qpid::client::SubscriptionManager::SubscriptionManager </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00512.html#aa15500ce0ba4cea17f4226bebe584a67">Session</a> &amp;&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a new <a class="el" href="a00318.html" title="A class to help create and manage subscriptions.">SubscriptionManager</a> associated with a session. </p>

</div>
</div>
<a class="anchor" id="a5bffe0d743799364742b2e4368aac773"></a><!-- doxytag: member="qpid::client::SubscriptionManager::SubscriptionManager" ref="a5bffe0d743799364742b2e4368aac773" args="(const SubscriptionManager &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qpid::client::SubscriptionManager::SubscriptionManager </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00318.html">SubscriptionManager</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0f4f1e9e1d4ac81cf2e648558714fd91"></a><!-- doxytag: member="qpid::client::SubscriptionManager::~SubscriptionManager" ref="a0f4f1e9e1d4ac81cf2e648558714fd91" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qpid::client::SubscriptionManager::~SubscriptionManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3774ac1bd472612208f4412dfa62bee4"></a><!-- doxytag: member="qpid::client::SubscriptionManager::SubscriptionManager" ref="a3774ac1bd472612208f4412dfa62bee4" args="(SubscriptionManagerImpl *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qpid::client::SubscriptionManager::SubscriptionManager </td>
          <td>(</td>
          <td class="paramtype">SubscriptionManagerImpl *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a19456563d46238188411e934aa403f51"></a><!-- doxytag: member="qpid::client::SubscriptionManager::cancel" ref="a19456563d46238188411e934aa403f51" args="(const std::string &amp;name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qpid::client::SubscriptionManager::cancel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00311.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cancel a subscription. </p>
<p>See also: <a class="el" href="a00316.html#aa96a865ece4e1276e76ea0a50ff50661" title="Cancel the subscription.">Subscription.cancel()</a> </p>

<p>Referenced by <a class="el" href="a00436_source.html#l00284">qpid::client::AutoCancel::~AutoCancel()</a>.</p>

</div>
</div>
<a class="anchor" id="ac0af11e62e346d8295ddb9ee40620eb0"></a><!-- doxytag: member="qpid::client::SubscriptionManager::functor" ref="ac0af11e62e346d8295ddb9ee40620eb0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00263.html#ae6dd30caad64962b36e826fb505cc626">Functor</a> qpid::sys::Runnable::functor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a functor object that will call this-&gt;<a class="el" href="a00263.html#a8c8296f61a69c142ad7afecca2578ea1" title="Derived classes override run().">run()</a>. </p>

</div>
</div>
<a class="anchor" id="ad8fe58735bd338d31104098cc599e017"></a><!-- doxytag: member="qpid::client::SubscriptionManager::get" ref="ad8fe58735bd338d31104098cc599e017" args="(Message &amp;result, const std::string &amp;queue, sys::Duration timeout=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool qpid::client::SubscriptionManager::get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00188.html">Message</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00311.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00099.html">sys::Duration</a>&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a single message from a queue. </p>
<p>(Note: this currently uses a subscription per invocation and is thus relatively expensive. The subscription is cancelled as part of each call which can trigger auto-deletion). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>is set to the message from the queue. </td></tr>
    <tr><td class="paramname">timeout</td><td>wait up this timeout for a message to appear. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if result was set, false if no message available after timeout. </dd></dl>

</div>
</div>
<a class="anchor" id="a8c8d38404b4d20e4d5334675ee0f4189"></a><!-- doxytag: member="qpid::client::SubscriptionManager::get" ref="a8c8d38404b4d20e4d5334675ee0f4189" args="(const std::string &amp;queue, sys::Duration timeout=sys::TIME_INFINITE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00188.html">Message</a> qpid::client::SubscriptionManager::get </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00311.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00099.html">sys::Duration</a>&#160;</td>
          <td class="paramname"><em>timeout</em> = <code><a class="el" href="a00518.html#a3aa132e281f66ba27d5fd25d71043bc0">sys::TIME_INFINITE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a single message from a queue. </p>
<p>(Note: this currently uses a subscription per invocation and is thus relatively expensive. The subscription is cancelled as part of each call which can trigger auto-deletion). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>wait up this timeout for a message to appear. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>message from the queue. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="a00108.html" title="Base class for Qpid runtime exceptions.">Exception</a></td><td>if the timeout is exceeded. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af84f04419a9bcc2d7bdb2b12a49cfaff"></a><!-- doxytag: member="qpid::client::SubscriptionManager::getDefaultSettings" ref="af84f04419a9bcc2d7bdb2b12a49cfaff" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00319.html">SubscriptionSettings</a>&amp; qpid::client::SubscriptionManager::getDefaultSettings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the default settings for <a class="el" href="a00318.html#ac41a60dbeb349ffce22e813dffed5d69" title="Subscribe a MessagesListener to receive messages from queue.">subscribe()</a> calls that don't include a <a class="el" href="a00319.html" title="Settings for a subscription.">SubscriptionSettings</a> parameter. </p>

</div>
</div>
<a class="anchor" id="a9ed3fedf882bab741e804f1a87ae3ecf"></a><!-- doxytag: member="qpid::client::SubscriptionManager::getDefaultSettings" ref="a9ed3fedf882bab741e804f1a87ae3ecf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00319.html">SubscriptionSettings</a>&amp; qpid::client::SubscriptionManager::getDefaultSettings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the default settings for <a class="el" href="a00318.html#ac41a60dbeb349ffce22e813dffed5d69" title="Subscribe a MessagesListener to receive messages from queue.">subscribe()</a> calls that don't include a <a class="el" href="a00319.html" title="Settings for a subscription.">SubscriptionSettings</a> parameter. </p>

</div>
</div>
<a class="anchor" id="a36139f6dacf4d4f06ecab3478a89ded4"></a><!-- doxytag: member="qpid::client::SubscriptionManager::getSession" ref="a36139f6dacf4d4f06ecab3478a89ded4" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00512.html#aa15500ce0ba4cea17f4226bebe584a67">Session</a> qpid::client::SubscriptionManager::getSession </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af866bde034050419b5a878d66b517b6e"></a><!-- doxytag: member="qpid::client::SubscriptionManager::getSubscription" ref="af866bde034050419b5a878d66b517b6e" args="(const std::string &amp;name) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00316.html">Subscription</a> qpid::client::SubscriptionManager::getSubscription </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00311.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a subscription by name. </p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="a00108.html" title="Base class for Qpid runtime exceptions.">Exception</a></td><td>if not found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae6f5dd2c23bdf3016f4afcd32057b9c5"></a><!-- doxytag: member="qpid::client::SubscriptionManager::isNull" ref="ae6f5dd2c23bdf3016f4afcd32057b9c5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QPID_CLIENT_INLINE_EXTERN bool qpid::client::Handle::isNull </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>true if handle is null. It is an error to call any function on a null handle. </dd></dl>

<p>Definition at line <a class="el" href="a00400_source.html#l00046">46</a> of file <a class="el" href="a00400_source.html">Handle.h</a>.</p>

</div>
</div>
<a class="anchor" id="a57379e651d725b0f73edcb714e9efbc7"></a><!-- doxytag: member="qpid::client::SubscriptionManager::isValid" ref="a57379e651d725b0f73edcb714e9efbc7" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QPID_CLIENT_INLINE_EXTERN bool qpid::client::Handle::isValid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>true if handle is valid, i.e. not null. </dd></dl>

<p>Definition at line <a class="el" href="a00400_source.html#l00043">43</a> of file <a class="el" href="a00400_source.html">Handle.h</a>.</p>

</div>
</div>
<a class="anchor" id="a00461424a31faee8e158a6502a014c3d"></a><!-- doxytag: member="qpid::client::SubscriptionManager::operator bool" ref="a00461424a31faee8e158a6502a014c3d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QPID_CLIENT_INLINE_EXTERN qpid::client::Handle::operator bool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Conversion to bool supports idiom if (handle) { handle-&gt;... </p>
<p>} </p>

<p>Definition at line <a class="el" href="a00400_source.html#l00049">49</a> of file <a class="el" href="a00400_source.html">Handle.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6e69e13fa5ed709abebdbf6868b5eff4"></a><!-- doxytag: member="qpid::client::SubscriptionManager::operator!" ref="a6e69e13fa5ed709abebdbf6868b5eff4" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QPID_CLIENT_INLINE_EXTERN bool qpid::client::Handle::operator! </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Operator ! supports idiom if (!handle) { do_if_handle_is_null(); }. </p>

<p>Definition at line <a class="el" href="a00400_source.html#l00052">52</a> of file <a class="el" href="a00400_source.html">Handle.h</a>.</p>

</div>
</div>
<a class="anchor" id="a546263fd742abbf0a0e8f644e7128f4f"></a><!-- doxytag: member="qpid::client::SubscriptionManager::operator=" ref="a546263fd742abbf0a0e8f644e7128f4f" args="(const SubscriptionManager &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00318.html">SubscriptionManager</a>&amp; qpid::client::SubscriptionManager::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00318.html">SubscriptionManager</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2ba66e4bc870e20846a1c1060a64440f"></a><!-- doxytag: member="qpid::client::SubscriptionManager::registerFailoverHandler" ref="a2ba66e4bc870e20846a1c1060a64440f" args="(boost::function&lt; void()&gt; fh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qpid::client::SubscriptionManager::registerFailoverHandler </td>
          <td>(</td>
          <td class="paramtype">boost::function&lt; void()&gt;&#160;</td>
          <td class="paramname"><em>fh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a58bd72dee8a3386f2ac29d46b65381b9"></a><!-- doxytag: member="qpid::client::SubscriptionManager::run" ref="a58bd72dee8a3386f2ac29d46b65381b9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qpid::client::SubscriptionManager::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deliver messages in the current thread until <a class="el" href="a00318.html#a1be6e1a70d3ce23d069d320eabd772c5" title="Stop delivery.">stop()</a> is called. </p>
<p>Only one thread may be running in a <a class="el" href="a00318.html" title="A class to help create and manage subscriptions.">SubscriptionManager</a> at a time. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="a00318.html#a58bd72dee8a3386f2ac29d46b65381b9" title="Deliver messages in the current thread until stop() is called.">run</a> </dd></dl>

<p>Implements <a class="el" href="a00263.html#a8c8296f61a69c142ad7afecca2578ea1">qpid::sys::Runnable</a>.</p>

</div>
</div>
<a class="anchor" id="a5e760078a23a5617bdcdbec8d91be128"></a><!-- doxytag: member="qpid::client::SubscriptionManager::setAcceptMode" ref="a5e760078a23a5617bdcdbec8d91be128" args="(AcceptMode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qpid::client::SubscriptionManager::setAcceptMode </td>
          <td>(</td>
          <td class="paramtype">AcceptMode&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the default accept-mode for <a class="el" href="a00318.html#ac41a60dbeb349ffce22e813dffed5d69" title="Subscribe a MessagesListener to receive messages from queue.">subscribe()</a> calls that don't include a <a class="el" href="a00319.html" title="Settings for a subscription.">SubscriptionSettings</a> parameter. </p>

</div>
</div>
<a class="anchor" id="a7aafea3fcc8043a1fe663f1ab74c9912"></a><!-- doxytag: member="qpid::client::SubscriptionManager::setAcquireMode" ref="a7aafea3fcc8043a1fe663f1ab74c9912" args="(AcquireMode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qpid::client::SubscriptionManager::setAcquireMode </td>
          <td>(</td>
          <td class="paramtype">AcquireMode&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the default acquire-mode <a class="el" href="a00318.html#ac41a60dbeb349ffce22e813dffed5d69" title="Subscribe a MessagesListener to receive messages from queue.">subscribe()</a>s that don't specify <a class="el" href="a00319.html" title="Settings for a subscription.">SubscriptionSettings</a>. </p>

</div>
</div>
<a class="anchor" id="a6917791ac9c6dd618e895ee654c8ad9d"></a><!-- doxytag: member="qpid::client::SubscriptionManager::setAutoStop" ref="a6917791ac9c6dd618e895ee654c8ad9d" args="(bool set=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qpid::client::SubscriptionManager::setAutoStop </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>set</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>If set true, <a class="el" href="a00318.html#a58bd72dee8a3386f2ac29d46b65381b9" title="Deliver messages in the current thread until stop() is called.">run()</a> will stop when all subscriptions are cancelled. </p>
<p>If false, run will only stop when <a class="el" href="a00318.html#a1be6e1a70d3ce23d069d320eabd772c5" title="Stop delivery.">stop()</a> is called. True by default. </p>

</div>
</div>
<a class="anchor" id="a003f532256bc6d06c29825db1831a60d"></a><!-- doxytag: member="qpid::client::SubscriptionManager::setDefaultSettings" ref="a003f532256bc6d06c29825db1831a60d" args="(const SubscriptionSettings &amp;s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qpid::client::SubscriptionManager::setDefaultSettings </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00319.html">SubscriptionSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the default settings for <a class="el" href="a00318.html#ac41a60dbeb349ffce22e813dffed5d69" title="Subscribe a MessagesListener to receive messages from queue.">subscribe()</a> calls that don't include a <a class="el" href="a00319.html" title="Settings for a subscription.">SubscriptionSettings</a> parameter. </p>

</div>
</div>
<a class="anchor" id="a7dbc0d2242f7dee83693f7ef383cdfe2"></a><!-- doxytag: member="qpid::client::SubscriptionManager::setFlowControl" ref="a7dbc0d2242f7dee83693f7ef383cdfe2" args="(const std::string &amp;name, const FlowControl &amp;flow)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qpid::client::SubscriptionManager::setFlowControl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00311.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00124.html">FlowControl</a> &amp;&#160;</td>
          <td class="paramname"><em>flow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the flow control for a subscription. </p>

</div>
</div>
<a class="anchor" id="a9a7a30637ea8808ea4dbd02123957dfc"></a><!-- doxytag: member="qpid::client::SubscriptionManager::setFlowControl" ref="a9a7a30637ea8808ea4dbd02123957dfc" args="(const std::string &amp;name, uint32_t messages, uint32_t bytes, bool window=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qpid::client::SubscriptionManager::setFlowControl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00311.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00492.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>messages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00492.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>window</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the flow control for a subscription. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">name,:</td><td>name of the subscription. </td></tr>
    <tr><td class="paramname">messages,:</td><td>message credit. </td></tr>
    <tr><td class="paramname">bytes,:</td><td>byte credit. </td></tr>
    <tr><td class="paramname">window,:</td><td>if true use window-based flow control. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a50948592cebb3e66eac303092ab2cd9f"></a><!-- doxytag: member="qpid::client::SubscriptionManager::setFlowControl" ref="a50948592cebb3e66eac303092ab2cd9f" args="(uint32_t messages, uint32_t bytes, bool window=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qpid::client::SubscriptionManager::setFlowControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00492.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>messages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00492.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>window</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the default flow control settings for <a class="el" href="a00318.html#ac41a60dbeb349ffce22e813dffed5d69" title="Subscribe a MessagesListener to receive messages from queue.">subscribe()</a> calls that don't include a <a class="el" href="a00319.html" title="Settings for a subscription.">SubscriptionSettings</a> parameter. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">messages,:</td><td>message credit. </td></tr>
    <tr><td class="paramname">bytes,:</td><td>byte credit. </td></tr>
    <tr><td class="paramname">window,:</td><td>if true use window-based flow control. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4ca1c748acd9a90d81bd16b460b044ff"></a><!-- doxytag: member="qpid::client::SubscriptionManager::start" ref="a4ca1c748acd9a90d81bd16b460b044ff" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qpid::client::SubscriptionManager::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start a new thread to deliver messages. </p>
<p>Only one thread may be running in a <a class="el" href="a00318.html" title="A class to help create and manage subscriptions.">SubscriptionManager</a> at a time. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="a00318.html#a4ca1c748acd9a90d81bd16b460b044ff" title="Start a new thread to deliver messages.">start</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1be6e1a70d3ce23d069d320eabd772c5"></a><!-- doxytag: member="qpid::client::SubscriptionManager::stop" ref="a1be6e1a70d3ce23d069d320eabd772c5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qpid::client::SubscriptionManager::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop delivery. </p>
<p>Causes <a class="el" href="a00318.html#a58bd72dee8a3386f2ac29d46b65381b9" title="Deliver messages in the current thread until stop() is called.">run()</a> to return, or the thread started with <a class="el" href="a00318.html#a4ca1c748acd9a90d81bd16b460b044ff" title="Start a new thread to deliver messages.">start()</a> to exit. </p>

</div>
</div>
<a class="anchor" id="ac41a60dbeb349ffce22e813dffed5d69"></a><!-- doxytag: member="qpid::client::SubscriptionManager::subscribe" ref="ac41a60dbeb349ffce22e813dffed5d69" args="(MessageListener &amp;listener, const std::string &amp;queue, const SubscriptionSettings &amp;settings, const std::string &amp;name=std::string())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00316.html">Subscription</a> qpid::client::SubscriptionManager::subscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00191.html">MessageListener</a> &amp;&#160;</td>
          <td class="paramname"><em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00311.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00319.html">SubscriptionSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00311.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code><a class="el" href="a00311.html">std::string</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Subscribe a MessagesListener to receive messages from queue. </p>
<p>Provide your own subclass of MessagesListener to process incoming messages. It will be called for each message received.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>Listener object to receive messages. </td></tr>
    <tr><td class="paramname">queue</td><td>Name of the queue to subscribe to. </td></tr>
    <tr><td class="paramname">settings</td><td>settings for the subscription. </td></tr>
    <tr><td class="paramname">name</td><td>unique destination name for the subscription, defaults to queue name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aad83778a5c45da818a912a0559012b03"></a><!-- doxytag: member="qpid::client::SubscriptionManager::subscribe" ref="aad83778a5c45da818a912a0559012b03" args="(LocalQueue &amp;localQueue, const std::string &amp;queue, const SubscriptionSettings &amp;settings, const std::string &amp;name=std::string())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00316.html">Subscription</a> qpid::client::SubscriptionManager::subscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00176.html">LocalQueue</a> &amp;&#160;</td>
          <td class="paramname"><em>localQueue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00311.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00319.html">SubscriptionSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00311.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code><a class="el" href="a00311.html">std::string</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Subscribe a <a class="el" href="a00176.html" title="A local queue to collect messages retrieved from a remote broker queue.">LocalQueue</a> to receive messages from queue. </p>
<p>Incoming messages are stored in the queue for you to retrieve.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>Name of the queue to subscribe to. </td></tr>
    <tr><td class="paramname">flow</td><td>initial <a class="el" href="a00124.html" title="Flow control works by associating a finite amount of &quot;credit&quot; with a subscription.">FlowControl</a> for the subscription. </td></tr>
    <tr><td class="paramname">name</td><td>unique destination name for the subscription, defaults to queue name. If not specified, the queue name is used. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0e45dca9a771599bb8c7bb9c2a333f95"></a><!-- doxytag: member="qpid::client::SubscriptionManager::subscribe" ref="a0e45dca9a771599bb8c7bb9c2a333f95" args="(MessageListener &amp;listener, const std::string &amp;queue, const std::string &amp;name=std::string())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00316.html">Subscription</a> qpid::client::SubscriptionManager::subscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00191.html">MessageListener</a> &amp;&#160;</td>
          <td class="paramname"><em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00311.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00311.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code><a class="el" href="a00311.html">std::string</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Subscribe a MessagesListener to receive messages from queue. </p>
<p>Provide your own subclass of MessagesListener to process incoming messages. It will be called for each message received.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td>Listener object to receive messages. </td></tr>
    <tr><td class="paramname">queue</td><td>Name of the queue to subscribe to. </td></tr>
    <tr><td class="paramname">name</td><td>unique destination name for the subscription, defaults to queue name. If not specified, the queue name is used. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a43294983754db870de655edb09abb825"></a><!-- doxytag: member="qpid::client::SubscriptionManager::subscribe" ref="a43294983754db870de655edb09abb825" args="(LocalQueue &amp;localQueue, const std::string &amp;queue, const std::string &amp;name=std::string())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00316.html">Subscription</a> qpid::client::SubscriptionManager::subscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00176.html">LocalQueue</a> &amp;&#160;</td>
          <td class="paramname"><em>localQueue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00311.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00311.html">std::string</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code><a class="el" href="a00311.html">std::string</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Subscribe a <a class="el" href="a00176.html" title="A local queue to collect messages retrieved from a remote broker queue.">LocalQueue</a> to receive messages from queue. </p>
<p>Incoming messages are stored in the queue for you to retrieve.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>Name of the queue to subscribe to. </td></tr>
    <tr><td class="paramname">name</td><td>unique destination name for the subscription, defaults to queue name. If not specified, the queue name is used. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5092920190f6ad01c851996395cf33b5"></a><!-- doxytag: member="qpid::client::SubscriptionManager::swap" ref="a5092920190f6ad01c851996395cf33b5" args="(Handle&lt; T &gt; &amp;h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qpid::client::Handle::swap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00129.html">Handle</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>h</em></td><td>)</td>
          <td><code> [inline, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00400_source.html#l00054">54</a> of file <a class="el" href="a00400_source.html">Handle.h</a>.</p>

</div>
</div>
<a class="anchor" id="a88da27bc4cfb4ecb538437b261da3471"></a><!-- doxytag: member="qpid::client::SubscriptionManager::wait" ref="a88da27bc4cfb4ecb538437b261da3471" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qpid::client::SubscriptionManager::wait </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait for the thread started by a call to <a class="el" href="a00318.html#a4ca1c748acd9a90d81bd16b460b044ff" title="Start a new thread to deliver messages.">start()</a> to complete. </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="adf6d72d2a888cabcd0b60178419aad59"></a><!-- doxytag: member="qpid::client::SubscriptionManager::impl" ref="adf6d72d2a888cabcd0b60178419aad59" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Impl* <a class="el" href="a00129.html#adf6d72d2a888cabcd0b60178419aad59">qpid::client::Handle::impl</a><code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00400_source.html#l00064">64</a> of file <a class="el" href="a00400_source.html">Handle.h</a>.</p>

</div>
</div>
<a class="anchor" id="a46cf43909ca6249e181e89d301f264a1"></a><!-- doxytag: member="qpid::client::SubscriptionManager::UNLIMITED" ref="a46cf43909ca6249e181e89d301f264a1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00492.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> <a class="el" href="a00318.html#a46cf43909ca6249e181e89d301f264a1">qpid::client::SubscriptionManager::UNLIMITED</a> = 0xFFFFFFFF<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="a00436_source.html#l00220">220</a> of file <a class="el" href="a00436_source.html">SubscriptionManager.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>qpid/client/<a class="el" href="a00436_source.html">SubscriptionManager.h</a></li>
</ul>
</div>
<!--
 
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at
 
   http://www.apache.org/licenses/LICENSE-2.0
 
 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 
-->

<hr size="1">
<address style="text-align: left;"><small>
Qpid C++ API Reference</small></address>

<address style="text-align: right;">
<small>
Generated on Thu Aug 23 2012 for Qpid C++ Client API by&nbsp;<a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.7.5</small>
</address>
</body>
</html>
